body{background:#0f172a;color:#e5e7eb;font-family:system-ui}
.container{width:min(96vw,520px);margin:20px auto;padding:10px}
.top{display:flex;align-items:center;justify-content:space-between}
:root{--cell9:36px}
.grid{display:grid;grid-template-columns:repeat(3,max-content);gap:12px;margin:16px auto;width:100%;justify-content:center}
.block{display:grid;grid-template-columns:repeat(3,var(--cell9));gap:6px;padding:6px;background:#0c1427;border:1px solid #475569;border-radius:12px}
.cell{width:var(--cell9);height:var(--cell9);display:flex;align-items:center;justify-content:center;background:#1b2640;border:1px solid #334155;border-radius:8px;cursor:pointer;transition:.15s; font-weight:600; font-size:calc(var(--cell9)*0.55); color:#e2e8f0}
.cell.prefill{background:#1b2640;color:#e2e8f0}
.cell.sel{outline:2px solid #8b5cf6; outline-offset:-2px}
.cell.rel{background:#202e4d}
.cell.error{outline:2px solid #ef4444; outline-offset:-2px; box-shadow:0 0 0 1px rgba(239,68,68,.6)}
.cell.blk-r{border-right:2px solid #475569}
.cell.blk-b{border-bottom:2px solid #475569}
.cell.blk-t{border-top:2px solid #475569}
.cell.blk-l{border-left:2px solid #475569}
.panel{text-align:center;margin-top:10px}
#notesToggle.toggle{margin-bottom:8px}
.tools{display:flex;justify-content:center;margin-bottom:6px}
#numbers{display:flex;flex-wrap:wrap;justify-content:center;gap:6px}
#numbers .btn{background:#1e293b;color:#e5e7eb;border:1px solid #8b5cf6;border-radius:999px;padding:8px 12px;cursor:pointer; min-width:36px}
#numbers .btn:hover{background:#253049}
#numbers .btn.disabled{opacity:.45;border-color:#475569;cursor:not-allowed}
.btn.toggle{background:radial-gradient(circle at 0 0,#8b5cf6,#7c3aed);border:1px solid rgba(139,92,246,.8);color:#f8fafc;border-radius:999px;padding:8px 14px;font-weight:600;box-shadow:0 8px 18px rgba(139,92,246,.35)}
.btn.toggle.on{background:radial-gradient(circle at 0 0,#a78bfa,#8b5cf6);box-shadow:0 10px 22px rgba(139,92,246,.45)}
.btn.toggle:active{transform:translateY(1px)}
.btn.back{background:radial-gradient(circle at 0 0,#1e293b,#0f172a);border:1px solid rgba(139,92,246,.6);border-radius:12px;padding:8px 12px}
.cell .notes{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:1px;width:100%;height:100%;padding:4px}
.cell .notes span{font-size:10px;color:#64748b;display:flex;align-items:center;justify-content:center}
.cell.same{background:#243356}

.info-bar{display:flex;align-items:center;gap:8px;justify-content:space-between;margin:8px 0}
.progress{position:relative;flex:1;height:10px;background:#0f1a2e;border:1px solid #334155;border-radius:999px;overflow:hidden}
.progress-bar{height:100%;background:linear-gradient(90deg,#8b5cf6,#7c3aed)}
.progress-text{position:absolute;right:8px;top:-24px;font-size:12px;color:#cbd5e1}
.counts{display:grid;grid-template-columns:repeat(9,1fr);gap:6px;margin-top:8px}
.counts .count{background:#1e293b;border:1px solid #334155;border-radius:8px;padding:6px 8px;font-size:12px;color:#cbd5e1}
.status{text-align:center;margin-top:8px;font-size:13px}
.turn{text-align:center;color:#94a3b8}
