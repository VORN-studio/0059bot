<!DOCTYPE html>
<html lang="hy">
<head>
  
          <script src="https://richinfo.co/richpartners/telegram/js/tg-ob.js"></script>
          <script>
            window.TelegramAdsController = new TelegramAdsController();
            window.TelegramAdsController.initialize({
              pubId: "995911",
              appId: "5159",
            });
          </script>
  <meta charset="UTF-8" />
  <title>Domino Duels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="duels.css" />
</head>
<body>
  <div class="page">

    <!-- TOP BAR -->
    <div class="top-bar">
      <button class="btn back" onclick="goBack()">‚Üê ’é’•÷Ä’°’§’°’º’∂’°’¨ ’∫’∏÷Ä’ø’°’¨</button>
      <div class="balances">
        <div class="badge">
          üíé DOMIT’ù <span id="domit-balance">0</span>
        </div>
      </div>
    </div>

    <!-- MAIN CARD -->
    <div class="card">
      <h2 class="game-title">‚öîÔ∏è DUELS</h2>
      <p class="game-subtitle">
        ‘Ω’°’≤’°÷Å’´÷Ä ’¢’∏’ø’´ ’Ø’°’¥ ’´÷Ä’°’Ø’°’∂ ’≠’°’≤’°÷Å’∏’≤’∂’•÷Ä’´ ’∞’•’ø÷â ’Ä’°’≤’©’´÷Ä ÷á ’æ’°’Ω’ø’°’Ø’´÷Ä DOMIT÷â
      </p>

      <!-- BOT GAMES SECTION -->
      <div class="section">
        <h3 class="section-title">ü§ñ ‘≤’∏’ø’´ ’∞’•’ø ’≠’°’≤</h3>
        <p class="section-desc">
          ’é’≥’°÷Ä’´÷Ä <strong>2 DOMIT</strong> ‚Üí ‘Ω’°’≤’°÷Å’´÷Ä ’°’∂’æ’•÷Ä’ª ’¥’´’∂’π÷á logout
        </p>
        <div class="bot-games">
          <button class="game-card" onclick="playBotGame('tictactoe')">
            <span class="game-icon">‚ùå‚≠ï</span>
            <span class="game-name">Tic-Tac-Toe</span>
            <span class="game-price">2 DOMIT</span>
          </button>
          <button class="game-card" onclick="playBotGame('chess')">
            <span class="game-icon">‚ôüÔ∏è</span>
            <span class="game-name">’á’°’≠’¥’°’ø</span>
            <span class="game-price">2 DOMIT</span>
          </button>
          <button class="game-card" onclick="playBotGame('sudoku')">
            <span class="game-icon">üî¢</span>
            <span class="game-name">’ç’∏÷Ç’§’∏’Ø’∏÷Ç</span>
            <span class="game-price">2 DOMIT</span>
          </button>
        </div>
      </div>

      <!-- ONLINE TABLES SECTION -->
      <div class="section">
        <h3 class="section-title">üë• ’ï’∂’¨’°’µ’∂ ’Ω’•’≤’°’∂’∂’•÷Ä</h3>
        <div class="online-controls">
          <button class="btn primary" onclick="openCreateTableModal()">
            ‚ûï ’ç’ø’•’≤’Æ’•’¨ ’Ω’•’≤’°’∂
          </button>
          <div class="online-count">
            üü¢ ’ï’∂’¨’°’µ’∂’ù <span id="online-count">0</span>
          </div>
        </div>

        <!-- FILTERS INSIDE LIST HEADER -->
        <div class="filters-bar">
          <button id="flt-ttt" class="filter-btn active" title="Tic-Tac-Toe" onclick="setSelectedGame('tictactoe')">‚ùå‚≠ï</button>
          <button id="flt-chess" class="filter-btn" title="’á’°’≠’¥’°’ø" onclick="setSelectedGame('chess')">‚ôüÔ∏è</button>
          <button id="flt-sudoku" class="filter-btn" title="’ç’∏÷Ç’§’∏’Ø’∏÷Ç" onclick="setSelectedGame('sudoku')">üî¢</button>
        </div>

        <!-- TABLES LIST -->
        <div id="tables-list" class="tables-list">
          <div class="empty-state">
            <span class="empty-icon">üéÆ</span>
            <p>‘±’Ø’ø’´’æ ’Ω’•’≤’°’∂’∂’•÷Ä ’π’Ø’°’∂</p>
            <p class="empty-hint">’ç’ø’•’≤’Æ’´÷Ä ’°’º’°’ª’´’∂ ’Ω’•’≤’°’∂’®÷â</p>
          </div>
        </div>
      </div>

      <div id="status" class="status"></div>
    </div>

    <div class="footer">@doominobot</div>
  </div>

  <!-- CREATE TABLE MODAL -->
  <div id="create-modal" class="modal hidden">
    <div class="modal-box">
      <h3 class="modal-title">’ç’ø’•’≤’Æ’•’¨ ’∂’∏÷Ä ’Ω’•’≤’°’∂</h3>
      <div class="modal-underline"></div>

      <label class="modal-label">‘Ω’°’≤</label>
      <select id="game-type" class="modal-select">
        <option value="tictactoe">‚ùå‚≠ï Tic-Tac-Toe</option>
        <option value="chess">‚ôüÔ∏è ’á’°’≠’¥’°’ø</option>
        <option value="sudoku">üî¢ ’ç’∏÷Ç’§’∏’Ø’∏÷Ç</option>
      </select>

      <div id="color-row" style="display:none; margin-top:8px;">
        <label class="modal-label">’á’°’≠’¥’°’ø’´ ’£’∏÷Ç’µ’∂</label>
        <select id="color-select" class="modal-select">
          <option value="w">’ç’∫’´’ø’°’Ø</option>
          <option value="b">’ç÷á</option>
        </select>
      </div>

      <div id="sudoku-difficulty-row" style="display:none; margin-top:8px;">
        <label class="modal-label">’ç’∏÷Ç’§’∏’Ø’∏÷Ç ’¢’°÷Ä’§’∏÷Ç’©’µ’∏÷Ç’∂</label>
        <select id="sudoku-difficulty" class="modal-select">
          <option value="easy">‘¥’µ’∏÷Ç÷Ä’´’∂</option>
          <option value="medium" selected>’Ñ’´’ª’´’∂</option>
          <option value="hard">‘¥’™’æ’°÷Ä</option>
        </select>
      </div>

      <label class="modal-label">Bet ’£’∏÷Ç’¥’°÷Ä’® (DOMIT)</label>
      <input
        id="bet-amount"
        type="number"
        class="modal-input"
        placeholder="’ï÷Ä’´’∂’°’Ø’ù 10"
        min="1"
      />

      <div id="create-error" class="modal-error"></div>

      <div class="modal-actions">
        <button class="btn modal-btn modal-cancel" onclick="closeCreateTableModal()">’â’•’≤’°÷Ä’Ø’•’¨</button>
        <button class="btn modal-btn modal-ok" onclick="confirmCreateTable()">’ç’ø’•’≤’Æ’•’¨</button>
      </div>
    </div>
  </div>

  <!-- JOIN TABLE MODAL -->
  <div id="join-modal" class="modal hidden">
    <div class="modal-box">
      <h3 class="modal-title">’Ñ’´’°’∂’°’¨ ’Ω’•’≤’°’∂’´’∂</h3>
      <div class="modal-underline"></div>

      <div class="join-info">
        <p><strong>‘Ω’°’≤’ù</strong> <span id="join-game-type"></span></p>
        <p><strong>Bet’ù</strong> <span id="join-bet"></span> DOMIT</p>
        <p><strong>’ç’ø’•’≤’Æ’∏’≤’ù</strong> <span id="join-creator"></span></p>
      </div>

      <div id="join-error" class="modal-error"></div>

      <div class="modal-actions">
        <button class="btn modal-btn modal-cancel" onclick="closeJoinModal()">’â’•’≤’°÷Ä’Ø’•’¨</button>
        <button class="btn modal-btn modal-ok" onclick="confirmJoinTable()">’Ñ’´’°’∂’°’¨</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
  <script src="duels.js"></script>
  <script>
    const gt = document.getElementById('game-type');
    const cr = document.getElementById('color-row');
    const sr = document.getElementById('sudoku-difficulty-row');
    gt.addEventListener('change', ()=>{ cr.style.display = gt.value==='chess' ? 'block' : 'none'; });
    gt.addEventListener('change', ()=>{ sr.style.display = gt.value==='sudoku' ? 'block' : 'none'; });
    // initialize visibility
    cr.style.display = gt.value==='chess' ? 'block' : 'none';
    sr.style.display = gt.value==='sudoku' ? 'block' : 'none';
  </script>
</body>
</html>
