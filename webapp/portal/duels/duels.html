<!DOCTYPE html>
<html lang="hy">
<head>
  
          <script src="https://richinfo.co/richpartners/telegram/js/tg-ob.js"></script>
          <script>
            window.TelegramAdsController = new TelegramAdsController();
            window.TelegramAdsController.initialize({
              pubId: "995911",
              appId: "5159",
            });
          </script>
  <meta charset="UTF-8" />
  <title>Domino Duels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="duels.css" />
</head>
<body>
  <div class="page">

    <!-- TOP BAR -->
    <div class="top-bar">
      <button class="btn back" onclick="goBack()">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—Ç–∞–ª</button>
      <div class="balances">
        <div class="badge">
          üíé DOMIT’ù <span id="domit-balance">0</span>
        </div>
      </div>
    </div>

    <!-- MAIN CARD -->
    <div class="card">
      <h2 class="game-title">‚öîÔ∏è DUELS</h2>
      <p class="game-subtitle">
        –ò–≥—Ä–∞–π –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞ –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤. –ü–æ–±–µ–∂–¥–∞–π –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π DOMIT!
      </p>

      <!-- BOT GAMES SECTION -->
      <div class="section">
        <h3 class="section-title">ü§ñ –ò–≥—Ä–∞ —Å –±–æ—Ç–æ–º</h3>
        <p class="section-desc">
          –û–ø–ª–∞—Ç–∏—Ç—å <strong>2 DOMIT</strong> ‚Üí –ò–≥—Ä–∞–π –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
        </p>
        <div class="bot-games">
          <button class="game-card" onclick="playBotGame('tictactoe')">
            <span class="game-icon">‚ùå‚≠ï</span>
            <span class="game-name">Tic-Tac-Toe</span>
            <span class="game-price">0.05 DOMIT</span>
          </button>
          <button class="game-card" onclick="playBotGame('chess')">
            <span class="game-icon">‚ôüÔ∏è</span>
            <span class="game-name">Chess</span>
            <span class="game-price">0.05 DOMIT</span>
          </button>
          <button class="game-card" onclick="playBotGame('sudoku')">
            <span class="game-icon">üî¢</span>
            <span class="game-name">Sudoku</span>
            <span class="game-price">0.05 DOMIT</span>
          </button>
        </div>
      </div>

      <!-- ONLINE TABLES SECTION -->
      <div class="section">
        <h3 class="section-title">üë• –û–Ω–ª–∞–π–Ω —Å—Ç–æ–ª—ã</h3>
        <div class="online-controls">
          <button class="btn primary" onclick="openCreateTableModal()">
            ‚ûï –°–æ–∑–¥–∞—Ç—å —Å—Ç–æ–ª
          </button>
          <div class="online-count">
            üü¢ –û–Ω–ª–∞–π–Ω’ù <span id="online-count">0</span>
          </div>
        </div>

        <!-- FILTERS INSIDE LIST HEADER -->
        <div class="filters-bar">
          <button id="flt-ttt" class="filter-btn active" title="Tic-Tac-Toe" onclick="setSelectedGame('tictactoe')">‚ùå‚≠ï</button>
          <button id="flt-chess" class="filter-btn" title="Chess" onclick="setSelectedGame('chess')">‚ôüÔ∏è</button>
          <button id="flt-sudoku" class="filter-btn" title="Sudoku" onclick="setSelectedGame('sudoku')">üî¢</button>
        </div>

        <!-- TABLES LIST -->
        <div id="tables-list" class="tables-list">
          <div class="empty-state">
            <span class="empty-icon">üéÆ</span>
            <p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç–æ–ª–æ–≤.</p>
            <p class="empty-hint">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª!</p>
          </div>
        </div>
      </div>

      <div id="status" class="status"></div>
    </div>

    <div class="footer">@doominobot</div>
  </div>

  <!-- CREATE TABLE MODAL -->
  <div id="create-modal" class="modal hidden">
    <div class="modal-box">
      <h3 class="modal-title">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª!</h3>
      <div class="modal-underline"></div>

      <label class="modal-label">–ò–≥—Ä–∞</label>
      <select id="game-type" class="modal-select">
        <option value="tictactoe">‚ùå‚≠ï Tic-Tac-Toe</option>
        <option value="chess">‚ôüÔ∏è Chess</option>
        <option value="sudoku">üî¢ Sudoku</option>
      </select>

      <div id="color-row" style="display:none; margin-top:8px;">
        <label class="modal-label">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç</label>
        <select id="color-select" class="modal-select">
          <option value="w">–ë–µ–ª—ã–µ</option>
          <option value="b">–ß–µ—Ä–Ω—ã–µ</option>
        </select>
      </div>

      <div id="sudoku-difficulty-row" style="display:none; margin-top:8px;">
        <label class="modal-label">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</label>
        <select id="sudoku-difficulty" class="modal-select">
          <option value="easy">–õ–µ–≥–∫–æ</option>
          <option value="medium" selected>–°—Ä–µ–¥–Ω–µ</option>
          <option value="hard">–°–ª–æ–∂–Ω–æ</option>
        </select>
      </div>

      <label class="modal-label">–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏</label>
      <input
        id="bet-amount"
        type="number"
        class="modal-input"
        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 10"
        min="1"
      />

      <div id="create-error" class="modal-error"></div>

      <div class="modal-actions">
        <button class="btn modal-btn modal-cancel" onclick="closeCreateTableModal()">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn modal-btn modal-ok" onclick="confirmCreateTable()">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- JOIN TABLE MODAL -->
  <div id="join-modal" class="modal hidden">
    <div class="modal-box">
      <h3 class="modal-title">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h3>
      <div class="modal-underline"></div>

      <div class="join-info">
        <p><strong>–ò–≥—Ä–∞</strong> <span id="join-game-type"></span></p>
        <p><strong>Bet’ù</strong> <span id="join-bet"></span> DOMIT</p>
        <p><strong>–°–æ–∑–¥–∞—Ç–µ–ª—å</strong> <span id="join-creator"></span></p>
      </div>

      <div id="join-error" class="modal-error"></div>

      <div class="modal-actions">
        <button class="btn modal-btn modal-cancel" onclick="closeJoinModal()">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn modal-btn modal-ok" onclick="confirmJoinTable()">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
  <script src="duels.js"></script>
  <script>
    const gt = document.getElementById('game-type');
    const cr = document.getElementById('color-row');
    const sr = document.getElementById('sudoku-difficulty-row');
    gt.addEventListener('change', ()=>{ cr.style.display = gt.value==='chess' ? 'block' : 'none'; });
    gt.addEventListener('change', ()=>{ sr.style.display = gt.value==='sudoku' ? 'block' : 'none'; });
    // initialize visibility
    cr.style.display = gt.value==='chess' ? 'block' : 'none';
    sr.style.display = gt.value==='sudoku' ? 'block' : 'none';
  </script>
</body>
</html>
